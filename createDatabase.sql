CREATE TABLE IF NOT EXISTS token (token uuid PRIMARY KEY, name TEXT);
CREATE TABLE IF NOT EXISTS contract (id TEXT PRIMARY KEY);
CREATE TABLE IF NOT EXISTS model (id SERIAL PRIMARY KEY, tag TEXT, url TEXT);
CREATE TABLE IF NOT EXISTS model_cloud(model INTEGER REFERENCES model, contract TEXT REFERENCES contract);
CREATE TABLE IF NOT EXISTS model_edge(model INTEGER REFERENCES model, contract TEXT REFERENCES contract);
CREATE TABLE IF NOT EXISTS machine(id TEXT PRIMARY KEY);
CREATE TABLE IF NOT EXISTS sensor(id SERIAL PRIMARY KEY, transmitted_id TEXT);
CREATE TABLE IF NOT EXISTS machine_contract(machine TEXT REFERENCES machine, contract TEXT REFERENCES contract);
CREATE TABLE IF NOT EXISTS machine_sensor(machine TEXT REFERENCES  machine, sensor INTEGER REFERENCES sensor);
CREATE TABLE IF NOT EXISTS sensor_model(sensor INTEGER REFERENCES sensor, model INTEGER REFERENCES model);